import{j as W,k as D,l as me,m as oe,n as I,p as j,q as re,s as O,v as he,x as T,y as _e,z as le,A as ve,B as R,C as se,D as ke,o as p,c as C,G as b,u as c,H as ge,f as w,d as H,g as V,I as ce,J as U,K as ye,L as Te,b as B,t as N,M as we,N as Se,O as Ee,e as S,P as Ae,w as A,F as G,r as K,Q as Ce,R as xe,S as be,a as Y,T as Le,E as Re}from"./index-8740ce4a.js";import{b as Be,T as Ne,a as $e,E as He}from"./articles-ee8ced84.js";const De="change";function Oe(e,n,r,o){const f=r-n;return e/=o/2,e<1?f/2*e*e*e+n:f/2*((e-=2)*e*e+2)+n}const ae=e=>W?window.requestAnimationFrame(e):setTimeout(e,16),q=e=>W?window.cancelAnimationFrame(e):clearTimeout(e);function Pe(e,n,r,o,f){const a=Date.now();let s;const _=()=>{const i=Date.now()-a,d=Oe(i>o?o:i,n,r,o);D(e)?e.scrollTo(window.pageXOffset,d):e.scrollTop=d,i<o?s=ae(_):me(f)&&f()};return _(),()=>{s&&q(s)}}const Z=(e,n)=>D(n)?e.ownerDocument.documentElement:n,ee=e=>D(e)?window.scrollY:e.scrollTop,te=e=>{let n=0,r=e;for(;r;)n+=r.offsetTop,r=r.offsetParent;return n},ne=(e,n)=>Math.abs(te(e)-te(n)),ze=oe({container:{type:I([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:I(String),default:"default"},direction:{type:I(String),default:"vertical"},selectScrollTop:Boolean}),Fe={change:e=>j(e),click:(e,n)=>e instanceof MouseEvent&&(j(n)||re(n))},ie=Symbol("anchor"),$=e=>{if(!W||e==="")return null;if(j(e))try{return document.querySelector(e)}catch{return null}return e};function Me(e){let n=0;const r=(...o)=>{n&&q(n),n=ae(()=>{e(...o),n=0})};return r.cancel=()=>{q(n),n=0},r}const Ie=O({name:"ElAnchor"}),je=O({...Ie,props:ze,emits:Fe,setup(e,{expose:n,emit:r}){const o=e,f=he(),a=T(""),s=T({}),_=T(null),g=T(null),i=T(),d={};let l=!1,k=0;const v=_e("anchor"),x=le(()=>[v.b(),o.type==="underline"?v.m("underline"):"",v.m(o.direction)]),E=t=>{d[t.href]=t.el},P=t=>{delete d[t]},L=t=>{a.value!==t&&(a.value=t,r(De,t))};let z=null;const fe=t=>{if(!i.value)return;const u=$(t);if(!u)return;z&&z(),l=!0;const m=Z(u,i.value),h=ne(u,m),y=m.scrollHeight-m.clientHeight,M=Math.min(h-o.offset,y);z=Pe(i.value,k,M,o.duration,()=>{setTimeout(()=>{l=!1},20)})},F=t=>{t&&(L(t),fe(t))},de=(t,u)=>{r("click",t,u),F(u)},J=Me(()=>{i.value&&(k=ee(i.value));const t=pe();l||re(t)||L(t)}),pe=()=>{if(!i.value)return;const t=ee(i.value),u=[];for(const m of Object.keys(d)){const h=$(m);if(!h)continue;const y=Z(h,i.value),M=ne(h,y);u.push({top:M-o.offset-o.bound,href:m})}u.sort((m,h)=>m.top-h.top);for(let m=0;m<u.length;m++){const h=u[m],y=u[m+1];if(m===0&&t===0)return o.selectScrollTop?h.href:"";if(h.top<=t&&(!y||y.top>t))return h.href}},Q=()=>{const t=$(o.container);!t||D(t)?i.value=window:i.value=t};ve(i,"scroll",J);const X=()=>{U(()=>{if(!_.value||!g.value||!a.value){s.value={};return}const t=d[a.value];if(!t){s.value={};return}const u=_.value.getBoundingClientRect(),m=g.value.getBoundingClientRect(),h=t.getBoundingClientRect();if(o.direction==="horizontal"){const y=h.left-u.left;s.value={left:`${y}px`,width:`${h.width}px`,opacity:1}}else{const y=h.top-u.top+(h.height-m.height)/2;s.value={top:`${y}px`,opacity:1}}})};return R(a,X),R(()=>{var t;return(t=f.default)==null?void 0:t.call(f)},X),se(()=>{Q();const t=decodeURIComponent(window.location.hash);$(t)?F(t):J()}),R(()=>o.container,()=>{Q()}),ke(ie,{ns:v,direction:o.direction,currentAnchor:a,addLink:E,removeLink:P,handleClick:de}),n({scrollTo:F}),(t,u)=>(p(),C("div",{ref_key:"anchorRef",ref:_,class:b(c(x))},[t.marker?(p(),C("div",{key:0,ref_key:"markerRef",ref:g,class:b(c(v).e("marker")),style:ge(s.value)},null,6)):w("v-if",!0),H("div",{class:b(c(v).e("list"))},[V(t.$slots,"default")],2)],2))}});var Ve=ce(je,[["__file","anchor.vue"]]);const qe=oe({title:String,href:String}),We=O({name:"ElAnchorLink"}),Ue=O({...We,props:qe,setup(e){const n=e,r=T(null),{ns:o,direction:f,currentAnchor:a,addLink:s,removeLink:_,handleClick:g}=ye(ie),i=le(()=>[o.e("link"),o.is("active",a.value===n.href)]),d=l=>{g(l,n.href)};return R(()=>n.href,(l,k)=>{U(()=>{k&&_(k),l&&s({href:l,el:r.value})})}),se(()=>{const{href:l}=n;l&&s({href:l,el:r.value})}),Te(()=>{const{href:l}=n;l&&_(l)}),(l,k)=>(p(),C("div",{class:b(c(o).e("item"))},[H("a",{ref_key:"linkRef",ref:r,class:b(c(i)),href:l.href,onClick:d},[V(l.$slots,"default",{},()=>[B(N(l.title),1)])],10,["href"]),l.$slots["sub-link"]&&c(f)==="vertical"?(p(),C("div",{key:0,class:b(c(o).e("list"))},[V(l.$slots,"sub-link")],2)):w("v-if",!0)],2))}});var ue=ce(Ue,[["__file","anchor-link.vue"]]);const Ge=we(Ve,{AnchorLink:ue}),Ke=Se(ue);const Je={__name:"TreeLinkBase",props:["node"],setup(e){const r=e.node;return(o,f)=>{const a=Ee("TreeLinkBase",!0),s=Ke;return c(r)?(p(),S(s,{key:0,href:`#${c(r).id}`},Ae({default:A(()=>[B(N(c(r).text)+" ",1)]),_:2},[c(r).children.length>0?{name:"sub-link",fn:A(()=>[(p(!0),C(G,null,K(c(r).children,_=>(p(),S(a,{node:_},null,8,["node"]))),256))]),key:"0"}:void 0]),1032,["href"])):w("",!0)}}},Qe={__name:"TreeAnchor",props:["root"],setup(e){const n=e;return(r,o)=>{const f=Ge;return n.root?(p(),S(f,{key:0},{default:A(()=>[(p(!0),C(G,null,K(n.root.children,a=>(p(),S(Je,{node:a},null,8,["node"]))),256))]),_:1})):w("",!0)}}},Xe={key:0,style:{display:"flex","flex-direction":"column","align-items":"center"}},Ye={style:{display:"flex"}},tt={__name:"Page",setup(e){const r=Ce().params.name;let o=Object.assign({"/src/articles/HelloWorld.md":()=>be(()=>import("./HelloWorld-644789c6.js"),["assets/HelloWorld-644789c6.js","assets/index-8740ce4a.js","assets/index-01384b61.css"])}),f=Be.find(d=>d.name==r),a=xe(null),s=T(null),_=T(null),g=T();function i(){if(!g.value)return;let d=g.value.querySelectorAll("h1,h2,h3"),l={children:[]},k=[],v=l,x=0;for(let E of d){if(!E.id)continue;let P=Number(E.tagName.slice(-1)),L={text:E.innerHTML,id:E.id,children:[]};for(;x>=P;)--x,v=k.pop();v||(v=l),v.children.push(L),k.push(v),v=L,++x}return l}return R(()=>a.value,async()=>{await U(),_.value=i()}),f&&o[f.slug]&&o[f.slug]().then(d=>{a.value=d.default,s.value=d.frontmatter}),(d,l)=>{const k=Re,v=He,x=$e;return p(),S(Ne,null,{middle:A(()=>[c(s)?(p(),C("div",Xe,[Y(k,{tag:"b",size:"large"},{default:A(()=>[B(N(c(s).title),1)]),_:1}),H("div",Ye,[c(s).date?(p(),S(k,{key:0,size:"small",style:{"margin-right":"5px"}},{default:A(()=>[B(N(c(s).date),1)]),_:1})):w("",!0),c(s).tags?(p(!0),C(G,{key:1},K(c(s).tags,E=>(p(),S(v,{type:"info",size:"small",style:{"margin-right":"2px"}},{default:A(()=>[B(N(E),1)]),_:2},1024))),256)):w("",!0)])])):w("",!0),Y(x,{style:{margin:"0"}}),H("div",{ref_key:"mdWrapper",ref:g},[c(a)?(p(),S(Le(c(a)),{key:0})):w("",!0)],512)]),last:A(()=>[c(_)?(p(),S(Qe,{key:0,root:c(_)},null,8,["root"])):w("",!0)]),_:1})}}};export{tt as default};
